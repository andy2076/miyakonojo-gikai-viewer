// ä»¤å’Œ4å¹´ç¬¬3å›å®šä¾‹ä¼šã«summaryã‚’è¿½åŠ 
const { createClient } = require('@supabase/supabase-js');
require('dotenv').config({ path: '.env' });

const supabase = createClient(
  process.env.NEXT_PUBLIC_SUPABASE_URL,
  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY
);

async function updateSummary() {
  console.log('ğŸ“ ä»¤å’Œ4å¹´ç¬¬3å›å®šä¾‹ä¼šã«summaryã‚’è¿½åŠ ã—ã¾ã™...\n');

  const summary = [
    'å…¨14è­°æ¡ˆã™ã¹ã¦ãŒå…¨ä¼šä¸€è‡´ã§å¯æ±ºã€‚ä»¤å’Œ4å¹´åº¦ã®è£œæ­£äºˆç®—ã‚„æ¡ä¾‹æ”¹æ­£ã€æ–½è¨­æ•´å‚™ãªã©å¤šæ§˜ãªæ–½ç­–ã‚’å®Ÿæ–½',
    'ä»¤å’Œ4å¹´åº¦ã®è£œæ­£äºˆç®—ã‚’è¤‡æ•°å›å¯æ±ºã€‚è¡Œæ”¿é‹å–¶ã‚„åœ°åŸŸæŒ¯èˆˆã«å¿…è¦ãªäºˆç®—ã‚’ç¢ºä¿ã—ã€å¸‚æ°‘ã‚µãƒ¼ãƒ“ã‚¹ã®ç¶­æŒãƒ»å‘ä¸Šã‚’å›³ã‚‹',
    'éƒ½åŸå¸‚ã‚¦ã‚¯ãƒ©ã‚¤ãƒŠé¿é›£æ°‘æ”¯æ´åŸºé‡‘æ¡ä¾‹ã‚’åˆ¶å®šã€‚å›½éš›äººé“æ”¯æ´ã®ä¸€ç’°ã¨ã—ã¦é¿é›£æ°‘æ”¯æ´ã‚’æ¨é€²',
    'å±±ä¹‹å£åœ°åŸŸäº¤æµã‚»ãƒ³ã‚¿ãƒ¼ã®è€éœ‡è£œå¼·å·¥äº‹å¥‘ç´„ã‚’ç· çµã€‚æ–½è¨­ã®å®‰å…¨æ€§å‘ä¸Šã¨åˆ©ä¾¿æ€§å‘ä¸Šã«ã‚ˆã‚Šåœ°åŸŸä½æ°‘ã®äº¤æµã‚’ä¿ƒé€²',
    'é«˜è¦æ ¼æ•‘æ€¥è‡ªå‹•è»Šã¨å°å‹å‹•åŠ›ãƒãƒ³ãƒ—ä»˜ç©è¼‰è»Šã‚’å–å¾—ã€‚æ•‘æ€¥åŒ»ç™‚ä½“åˆ¶ã¨æ¶ˆé˜²æ´»å‹•ã®åŠ¹ç‡åŒ–ã«ã‚ˆã‚Šç½å®³å¯¾å¿œåŠ›ã‚’å¼·åŒ–',
    'ç¨æ¡ä¾‹ã€æ¶ˆé˜²å›£å“¡è£œå„Ÿæ¡ä¾‹ã€æ‰‹æ•°æ–™æ¡ä¾‹ãªã©ã‚’æ”¹æ­£ã€‚åˆ¶åº¦ã®é©æ­£åŒ–ã¨å¸‚æ°‘ã‚µãƒ¼ãƒ“ã‚¹ã®å‘ä¸Šã‚’å›³ã‚‹'
  ];

  const { error } = await supabase
    .from('meeting_topics')
    .update({
      summary: summary
    })
    .eq('meeting_title', 'ä»¤å’Œï¼”å¹´ç¬¬ï¼“å›å®šä¾‹ä¼š');

  if (error) {
    console.error('âŒ æ›´æ–°ã‚¨ãƒ©ãƒ¼:', error.message);
    throw error;
  }

  console.log('âœ… summaryã‚’è¿½åŠ ã—ã¾ã—ãŸï¼');
  console.log('summaryé …ç›®æ•°:', summary.length);
  summary.forEach((item, idx) => {
    console.log(`  ${idx + 1}. ${item.substring(0, 40)}...`);
  });

  console.log('\nğŸ‰ ä»¤å’Œ4å¹´ç¬¬3å›å®šä¾‹ä¼šã®å……å®ŸåŒ–ãŒå®Œäº†ã—ã¾ã—ãŸï¼');
  console.log('\nğŸŒ ç¢ºèªURL: http://localhost:3001/meetings/ä»¤å’Œï¼”å¹´ç¬¬ï¼“å›å®šä¾‹ä¼š/topics');
}

updateSummary().catch(console.error);
